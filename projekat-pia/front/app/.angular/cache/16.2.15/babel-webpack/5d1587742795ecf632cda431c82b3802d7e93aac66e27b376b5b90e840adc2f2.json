{"ast":null,"code":"import { Firma } from '../models/firma';\nimport * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/router\";\nexport class DetaljiFirmeComponent {\n  constructor(servis, ruter) {\n    this.servis = servis;\n    this.ruter = ruter;\n    this.naziv = '';\n    this.firma = new Firma();\n  }\n  ngOnInit() {\n    let naziv = localStorage.getItem('firmica');\n    naziv = naziv == null ? '' : naziv;\n    this.naziv = naziv;\n    this.servis.getFirma(naziv).subscribe(f => {\n      this.firma = f;\n    });\n  }\n  pretraziAdresu() {\n    if (!this.firma.adresa) return;\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.firma.adresa)}&format=json&limit=1`;\n    fetch(url).then(response => response.json()).then(data => {\n      if (data.length > 0) {\n        const lat = parseFloat(data[0].lat);\n        const lon = parseFloat(data[0].lon);\n        if (this.map && this.marker) {\n          this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n        }\n\n        this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n        this.marker = L.marker([lat, lon]).addTo(this.map);\n        this.marker.bindPopup(`<b>${this.firma.adresa}</b>`).openPopup();\n      } else {\n        alert('Adresa nije pronađena.');\n      }\n    }).catch(error => {\n      console.error('Greška prilikom geokodiranja:', error);\n      alert('Greška prilikom geokodiranja.');\n    });\n  }\n  static #_ = this.ɵfac = function DetaljiFirmeComponent_Factory(t) {\n    return new (t || DetaljiFirmeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetaljiFirmeComponent,\n    selectors: [[\"app-detalji-firme\"]],\n    decls: 33,\n    vars: 2,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"href\", \"/\"], [\"href\", \"/vlasnik\"], [\"href\", \"/firme\"], [\"href\", \"/promena-lozinke\"], [1, \"container2\"], [\"id\", \"map\"]],\n    template: function DetaljiFirmeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n        i0.ɵɵelementStart(4, \"title\");\n        i0.ɵɵtext(5, \"Po\\u010Detna Stranica\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"body\")(7, \"header\")(8, \"h1\");\n        i0.ɵɵtext(9, \" Dobrodo\\u0161li! \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"nav\")(11, \"ul\")(12, \"li\")(13, \"a\", 3);\n        i0.ɵɵtext(14, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"li\")(16, \"a\", 4);\n        i0.ɵɵtext(17, \"Profil\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"li\")(19, \"a\", 5);\n        i0.ɵɵtext(20, \"Firme\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"li\")(22, \"a\", 6);\n        i0.ɵɵtext(23, \"Zakazivanja\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"li\")(25, \"a\", 6);\n        i0.ɵɵtext(26, \"Odrzavanja\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtext(27);\n        i0.ɵɵelementStart(28, \"div\", 7);\n        i0.ɵɵelement(29, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"footer\")(31, \"p\");\n        i0.ɵɵtext(32, \"\\u00A9 2024 Va\\u0161a ba\\u0161ta.Sva prava zadr\\u017Eana.\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(27);\n        i0.ɵɵtextInterpolate2(\" \", ctx.firma.naziv, \" \", ctx.firma.adresa, \" \");\n      }\n    },\n    styles: [\"#map[_ngcontent-%COMP%] {\\n    height: 100px; \\n\\n    width: 400px;  \\n\\n    border: 1px solid #ccc; \\n\\n    box-sizing: border-box; \\n\\n  }\\n  \\n  \\n\\n  .container2[_ngcontent-%COMP%] {\\n    margin: 20px 0;\\n    padding: 0;\\n    width: auto; \\n\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGV0YWxqaS1maXJtZS9kZXRhbGppLWZpcm1lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhLEVBQUUsdUJBQXVCO0lBQ3RDLFlBQVksR0FBRyx1QkFBdUI7SUFDdEMsc0JBQXNCLEVBQUUsOEJBQThCO0lBQ3RELHNCQUFzQixFQUFFLCtDQUErQztFQUN6RTs7RUFFQSxzQkFBc0I7RUFDdEI7SUFDRSxjQUFjO0lBQ2QsVUFBVTtJQUNWLFdBQVcsRUFBRSwyQ0FBMkM7RUFDMUQiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwIHtcclxuICAgIGhlaWdodDogMTAwcHg7IC8qIEZpa3NuYSB2aXNpbmEgbWFwZSAqL1xyXG4gICAgd2lkdGg6IDQwMHB4OyAgLyogRmlrc25hIMOFwqFpcmluYSBtYXBlICovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOyAvKiBHcmFuaWNhIHphIGxha8OFwqFlIHByYcOEwodlbmplICovXHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OyAvKiBVa2xqdcOEwo1pIHBhZGRpbmcgaSBib3JkZXIgdSB2aXNpbnUgaSDDhcKhaXJpbnUgKi9cclxuICB9XHJcbiAgXHJcbiAgLyogU3RpbCB6YSBrb250ZWpuZXIgKi9cclxuICAuY29udGFpbmVyMiB7XHJcbiAgICBtYXJnaW46IDIwcHggMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICB3aWR0aDogYXV0bzsgLyogw4XCoGlyaW5hIGtvbnRlam5lcmEgbW/DhcK+ZSBiaXRpIGF1dG9tYXRza2EgKi9cclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Firma","L","DetaljiFirmeComponent","constructor","servis","ruter","naziv","firma","ngOnInit","localStorage","getItem","getFirma","subscribe","f","pretraziAdresu","adresa","url","encodeURIComponent","fetch","then","response","json","data","length","lat","parseFloat","lon","map","marker","removeLayer","setView","addTo","bindPopup","openPopup","alert","catch","error","console","_","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","_2","selectors","decls","vars","consts","template","DetaljiFirmeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2"],"sources":["D:\\projekat-pia\\front\\app\\src\\app\\detalji-firme\\detalji-firme.component.ts","D:\\projekat-pia\\front\\app\\src\\app\\detalji-firme\\detalji-firme.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user.service';\nimport { Router } from '@angular/router';\nimport { Firma } from '../models/firma';\nimport * as L from 'leaflet';\n\n\n@Component({\n  selector: 'app-detalji-firme',\n  templateUrl: './detalji-firme.component.html',\n  styleUrls: ['./detalji-firme.component.css']\n})\nexport class DetaljiFirmeComponent implements OnInit {\n  constructor(private servis:UserService,private ruter:Router){}\n\n  ngOnInit(): void {\n      let naziv=localStorage.getItem('firmica')\n      naziv=naziv==null?'':naziv\n      this.naziv=naziv\n      this.servis.getFirma(naziv).subscribe(\n        f=>{\n          this.firma=f\n        }\n      )\n  }\n  naziv:string=''\n  firma:Firma=new Firma()\n  map: any\n  marker: L.Marker | undefined;\n\n  pretraziAdresu(): void {\n    if (!this.firma.adresa) return;\n\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.firma.adresa)}&format=json&limit=1`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        if (data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lon = parseFloat(data[0].lon);\n\n          if (this.map && this.marker) {\n            this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n          }\n\n          this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n\n          this.marker = L.marker([lat, lon]).addTo(this.map);\n          this.marker.bindPopup(`<b>${this.firma.adresa}</b>`).openPopup();\n        } else {\n          alert('Adresa nije pronađena.');\n        }\n      })\n      .catch(error => {\n        console.error('Greška prilikom geokodiranja:', error);\n        alert('Greška prilikom geokodiranja.');\n      });\n  }\n\n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Početna Stranica</title>\n\n</head>\n\n<body>\n    <header>\n        <h1>\n            Dobrodošli!\n        </h1>\n        <nav>\n            <ul>\n                <li><a href=\"/\">Home</a></li>\n                <li><a href=\"/vlasnik\">Profil</a></li>\n                <li><a href=\"/firme\">Firme</a></li>\n                <li><a href=\"/promena-lozinke\">Zakazivanja</a></li>\n                <li><a href=\"/promena-lozinke\">Odrzavanja</a></li>\n            </ul>\n        </nav>\n    </header>\n    {{firma.naziv}}  {{firma.adresa}}\n    <div class=\"container2\">\n        <div id=\"map\"></div>\n      </div>\n\n\n    <footer>\n        <p>&copy; 2024 Vaša bašta.Sva prava zadržana.</p>\n    </footer>\n</body>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}