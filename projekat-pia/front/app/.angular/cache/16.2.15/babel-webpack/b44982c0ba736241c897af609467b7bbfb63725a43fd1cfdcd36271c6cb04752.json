{"ast":null,"code":"import Dekorater from '../models/dekorater';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction DekoraterOdrzavanjaComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function DekoraterOdrzavanjaComponent_div_27_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.prihvati(p_r1));\n    });\n    i0.ɵɵtext(8, \"Prihvati posao?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function DekoraterOdrzavanjaComponent_div_27_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.odbij(p_r1));\n    });\n    i0.ɵɵtext(11, \"Odbij posao?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" Komentar:\");\n    i0.ɵɵelement(13, \"input\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Datum pocetka:\", p_r1.datumPocetka, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Datum kraja:\", p_r1.datumKraja, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Status:\", p_r1.status, \" \");\n  }\n}\nexport class DekoraterOdrzavanjaComponent {\n  constructor(servis, ruter) {\n    this.servis = servis;\n    this.ruter = ruter;\n    this.posloviZahtev = [];\n    this.dekorater = new Dekorater();\n    this.komentar = '';\n    this.error = '';\n  }\n  ngOnInit() {\n    let naziv = localStorage.getItem('ulogovan');\n    naziv = naziv == null ? '' : naziv;\n    this.servis.getDekorater(naziv).subscribe(d => {\n      this.dekorater = d;\n      this.servis.posloviFirmeZahtev(this.dekorater.firma).subscribe(p => {\n        this.posloviZahtev = p;\n      });\n    });\n  }\n  prihvati(posao) {\n    this.servis.dekoraterPrihvatiZahtev(this.dekorater.korisnicko_ime, posao.id).subscribe(poruka => {\n      if (poruka.msg == 'ok') {\n        alert('Uspesno prihvacen posao');\n        this.ngOnInit();\n      } else {\n        alert('Doslo je do greske');\n      }\n    });\n  }\n  odbij(posao) {\n    if (!this.komentar) {\n      this.error = 'Kod odbijanja zahteva morate uneti komentar!';\n    }\n    this.error = '';\n    this.servis.dekoraterOdbijZahtev(this.komentar, posao.id).subscribe(poruka => {\n      if (poruka.msg == 'ok') {\n        alert('Uspesno odbijen posao');\n        this.ngOnInit();\n      } else {\n        alert('Doslo je do greske');\n      }\n    });\n  }\n  static #_ = this.ɵfac = function DekoraterOdrzavanjaComponent_Factory(t) {\n    return new (t || DekoraterOdrzavanjaComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DekoraterOdrzavanjaComponent,\n    selectors: [[\"app-dekorater-odrzavanja\"]],\n    decls: 31,\n    vars: 1,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"href\", \"/\"], [\"href\", \"/dekorater\"], [\"href\", \"/dekorater-odrzavanja\"], [\"href\", \"/dekorater-zakazivanja\"], [\"href\", \"/dekorater-statistika\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"type\", \"text\"]],\n    template: function DekoraterOdrzavanjaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n        i0.ɵɵelementStart(4, \"title\");\n        i0.ɵɵtext(5, \"Po\\u010Detna Stranica\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"body\")(7, \"header\")(8, \"h1\");\n        i0.ɵɵtext(9, \"Dobrodo\\u0161li!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"nav\")(11, \"ul\")(12, \"li\")(13, \"a\", 3);\n        i0.ɵɵtext(14, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"li\")(16, \"a\", 4);\n        i0.ɵɵtext(17, \"Profil\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"li\")(19, \"a\", 5);\n        i0.ɵɵtext(20, \"Odrzavanja\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"li\")(22, \"a\", 6);\n        i0.ɵɵtext(23, \"Zakazivanja\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"li\")(25, \"a\", 7);\n        i0.ɵɵtext(26, \"Statistika\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(27, DekoraterOdrzavanjaComponent_div_27_Template, 14, 3, \"div\", 8);\n        i0.ɵɵelementStart(28, \"footer\")(29, \"p\");\n        i0.ɵɵtext(30, \"\\u00A9 2024 Va\\u0161a ba\\u0161ta. Sva prava zadr\\u017Eana.\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"ngForOf\", ctx.posloviZahtev);\n      }\n    },\n    dependencies: [i3.NgForOf],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Dekorater","i0","ɵɵelementStart","ɵɵtext","ɵɵelement","ɵɵlistener","DekoraterOdrzavanjaComponent_div_27_Template_button_click_7_listener","restoredCtx","ɵɵrestoreView","_r3","p_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","prihvati","ɵɵelementEnd","DekoraterOdrzavanjaComponent_div_27_Template_button_click_10_listener","ctx_r4","odbij","ɵɵadvance","ɵɵtextInterpolate1","datumPocetka","datumKraja","status","DekoraterOdrzavanjaComponent","constructor","servis","ruter","posloviZahtev","dekorater","komentar","error","ngOnInit","naziv","localStorage","getItem","getDekorater","subscribe","d","posloviFirmeZahtev","firma","p","posao","dekoraterPrihvatiZahtev","korisnicko_ime","id","poruka","msg","alert","dekoraterOdbijZahtev","_","ɵɵdirectiveInject","i1","UserService","i2","Router","_2","selectors","decls","vars","consts","template","DekoraterOdrzavanjaComponent_Template","rf","ctx","ɵɵtemplate","DekoraterOdrzavanjaComponent_div_27_Template","ɵɵproperty"],"sources":["D:\\projekat-pia\\front\\app\\src\\app\\dekorater-odrzavanja\\dekorater-odrzavanja.component.ts","D:\\projekat-pia\\front\\app\\src\\app\\dekorater-odrzavanja\\dekorater-odrzavanja.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user.service';\nimport { Router } from '@angular/router';\nimport Posao from '../models/posao';\nimport Dekorater from '../models/dekorater';\n\n@Component({\n  selector: 'app-dekorater-odrzavanja',\n  templateUrl: './dekorater-odrzavanja.component.html',\n  styleUrls: ['./dekorater-odrzavanja.component.css']\n})\nexport class DekoraterOdrzavanjaComponent implements OnInit {\n\n  constructor(private servis:UserService,private ruter:Router){}\n\n\n  posloviZahtev:Posao[]=[]\n\n  dekorater:Dekorater=new Dekorater()\n\n  komentar:string=''\n  error=''\n\n  ngOnInit(): void {\n\n    let naziv=localStorage.getItem('ulogovan')\n    naziv=naziv==null?'':naziv\n    this.servis.getDekorater(naziv).subscribe(\n      d=>{\n        this.dekorater=d\n\n        this.servis.posloviFirmeZahtev(this.dekorater.firma).subscribe(\n          p=>{\n            this.posloviZahtev=p\n          }\n        )\n      }\n    )\n      \n  }\n\n  prihvati(posao:Posao){\n    this.servis.dekoraterPrihvatiZahtev(this.dekorater.korisnicko_ime,posao.id).subscribe(\n      poruka=>{\n        if(poruka.msg=='ok'){\n          alert('Uspesno prihvacen posao')\n          this.ngOnInit()\n        }\n        else {\n          alert('Doslo je do greske')\n        }\n      }\n    )\n  }\n\n  odbij(posao:Posao){\n    if(!this.komentar){\n      this.error='Kod odbijanja zahteva morate uneti komentar!'\n    }\n    this.error=''\n    this.servis.dekoraterOdbijZahtev(this.komentar,posao.id).subscribe(\n      poruka=>{\n        if(poruka.msg=='ok'){\n          alert('Uspesno odbijen posao')\n          this.ngOnInit()\n        }\n        else {\n          alert('Doslo je do greske')\n          \n\n        }\n      }\n    )\n  }\n\n}\n","<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Početna Stranica</title>\n</head>\n\n<body>\n    <header>\n        <h1>Dobrodošli!</h1>\n        <nav>\n            <ul>\n                <li><a href=\"/\">Home</a></li>\n                <li><a href=\"/dekorater\">Profil</a></li>\n                <li><a href=\"/dekorater-odrzavanja\">Odrzavanja</a></li>\n                <li><a href=\"/dekorater-zakazivanja\">Zakazivanja</a></li>\n                <li><a href=\"/dekorater-statistika\">Statistika</a></li>\n            </ul>\n        </nav>\n    </header>\n   <div *ngFor=\"let p of posloviZahtev\">\n    Datum pocetka:{{p.datumPocetka}} <br>\n    Datum kraja:{{p.datumKraja}} <br>\n    Status:{{p.status}} <br>\n    <button (click)=\"prihvati(p)\">Prihvati posao?</button> <br>\n    <button (click)=\"odbij(p)\">Odbij posao?</button> Komentar:<input type=\"text\">\n   </div>\n\n    <footer>\n        <p>&copy; 2024 Vaša bašta. Sva prava zadržana.</p>\n    </footer>\n</body>\n</html>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}