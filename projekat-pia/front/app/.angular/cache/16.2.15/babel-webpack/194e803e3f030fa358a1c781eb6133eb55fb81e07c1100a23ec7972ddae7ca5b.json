{"ast":null,"code":"import Posao from '../models/posao';\nimport Odrzavanje from '../models/odrzavanje';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/user.service\";\nexport class ZakaziOdrzavanjeComponent {\n  constructor(ruter, servis) {\n    this.ruter = ruter;\n    this.servis = servis;\n    this.posao = new Posao();\n    this.datum = '';\n    this.odrzavanje = new Odrzavanje();\n    this.error = '';\n  }\n  ngOnInit() {\n    const poslic = localStorage.getItem('brojOdPosla');\n    if (poslic) {\n      this.posao = JSON.parse(poslic);\n    }\n  }\n  potvrdi() {\n    if (!this.datum) {\n      this.error = 'Niste uneli datum!';\n      return;\n    }\n    this.odrzavanje.firma = this.posao.firma;\n    this.odrzavanje.idPosao = this.posao.id;\n    this.odrzavanje.datumPocetka = this.datum;\n    this.servis.saveOdrzavanje(this.odrzavanje).subscribe(poruka => {\n      if (poruka.msg == 'ok') {\n        alert('Uspesno cuvanje odrzavanja');\n        this.ruter.navigate(['odrzavanje']);\n      } else {\n        alert('Doslo je do greske');\n      }\n    });\n  }\n  static #_ = this.ɵfac = function ZakaziOdrzavanjeComponent_Factory(t) {\n    return new (t || ZakaziOdrzavanjeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ZakaziOdrzavanjeComponent,\n    selectors: [[\"app-zakazi-odrzavanje\"]],\n    decls: 2,\n    vars: 0,\n    template: function ZakaziOdrzavanjeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"zakazi-odrzavanje works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Posao","Odrzavanje","ZakaziOdrzavanjeComponent","constructor","ruter","servis","posao","datum","odrzavanje","error","ngOnInit","poslic","localStorage","getItem","JSON","parse","potvrdi","firma","idPosao","id","datumPocetka","saveOdrzavanje","subscribe","poruka","msg","alert","navigate","_","i0","ɵɵdirectiveInject","i1","Router","i2","UserService","_2","selectors","decls","vars","template","ZakaziOdrzavanjeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["D:\\projekat-pia\\front\\app\\src\\app\\zakazi-odrzavanje\\zakazi-odrzavanje.component.ts","D:\\projekat-pia\\front\\app\\src\\app\\zakazi-odrzavanje\\zakazi-odrzavanje.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '../services/user.service';\nimport Posao from '../models/posao';\nimport Odrzavanje from '../models/odrzavanje';\n\n@Component({\n  selector: 'app-zakazi-odrzavanje',\n  templateUrl: './zakazi-odrzavanje.component.html',\n  styleUrls: ['./zakazi-odrzavanje.component.css']\n})\nexport class ZakaziOdrzavanjeComponent implements OnInit {\n  constructor(private ruter:Router,private servis:UserService){}\n\n  posao:Posao=new Posao()\n\n  datum:string=''\n\n  odrzavanje:Odrzavanje=new Odrzavanje()\n\n  error:string=''\n\n  ngOnInit(): void {\n      const poslic=localStorage.getItem('brojOdPosla')\n      if(poslic){\n        this.posao=JSON.parse(poslic)\n      }\n\n  }\n\n\n  potvrdi(){\n    if(!this.datum){\n      this.error='Niste uneli datum!'\n      return\n    }\n\n    this.odrzavanje.firma=this.posao.firma\n    this.odrzavanje.idPosao=this.posao.id\n    this.odrzavanje.datumPocetka=this.datum\n    this.servis.saveOdrzavanje(this.odrzavanje).subscribe(\n      poruka=>{\n        if(poruka.msg=='ok'){\n          alert('Uspesno cuvanje odrzavanja')\n          this.ruter.navigate(['odrzavanje'])\n        } else {\n          alert('Doslo je do greske')\n        }\n      }\n    )\n  }\n\n\n}\n","<p>zakazi-odrzavanje works!</p>\n"],"mappings":"AAGA,OAAOA,KAAK,MAAM,iBAAiB;AACnC,OAAOC,UAAU,MAAM,sBAAsB;;;;AAO7C,OAAM,MAAOC,yBAAyB;EACpCC,YAAoBC,KAAY,EAASC,MAAkB;IAAvC,KAAAD,KAAK,GAALA,KAAK;IAAgB,KAAAC,MAAM,GAANA,MAAM;IAE/C,KAAAC,KAAK,GAAO,IAAIN,KAAK,EAAE;IAEvB,KAAAO,KAAK,GAAQ,EAAE;IAEf,KAAAC,UAAU,GAAY,IAAIP,UAAU,EAAE;IAEtC,KAAAQ,KAAK,GAAQ,EAAE;EAR8C;EAU7DC,QAAQA,CAAA;IACJ,MAAMC,MAAM,GAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IAChD,IAAGF,MAAM,EAAC;MACR,IAAI,CAACL,KAAK,GAACQ,IAAI,CAACC,KAAK,CAACJ,MAAM,CAAC;;EAGnC;EAGAK,OAAOA,CAAA;IACL,IAAG,CAAC,IAAI,CAACT,KAAK,EAAC;MACb,IAAI,CAACE,KAAK,GAAC,oBAAoB;MAC/B;;IAGF,IAAI,CAACD,UAAU,CAACS,KAAK,GAAC,IAAI,CAACX,KAAK,CAACW,KAAK;IACtC,IAAI,CAACT,UAAU,CAACU,OAAO,GAAC,IAAI,CAACZ,KAAK,CAACa,EAAE;IACrC,IAAI,CAACX,UAAU,CAACY,YAAY,GAAC,IAAI,CAACb,KAAK;IACvC,IAAI,CAACF,MAAM,CAACgB,cAAc,CAAC,IAAI,CAACb,UAAU,CAAC,CAACc,SAAS,CACnDC,MAAM,IAAE;MACN,IAAGA,MAAM,CAACC,GAAG,IAAE,IAAI,EAAC;QAClBC,KAAK,CAAC,4BAA4B,CAAC;QACnC,IAAI,CAACrB,KAAK,CAACsB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;OACpC,MAAM;QACLD,KAAK,CAAC,oBAAoB,CAAC;;IAE/B,CAAC,CACF;EACH;EAAC,QAAAE,CAAA,G;qBAvCUzB,yBAAyB,EAAA0B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAzBhC,yBAAyB;IAAAiC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,mCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXtCZ,EAAA,CAAAc,cAAA,QAAG;QAAAd,EAAA,CAAAe,MAAA,+BAAwB;QAAAf,EAAA,CAAAgB,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}