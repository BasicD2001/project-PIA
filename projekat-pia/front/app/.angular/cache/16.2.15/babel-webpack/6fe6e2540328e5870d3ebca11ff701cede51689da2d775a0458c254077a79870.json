{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class FirmaComponent {\n  constructor() {\n    this.adresa = '';\n  }\n  ngOnInit() {\n    this.inicijalizujMapu();\n  }\n  inicijalizujMapu() {\n    this.map = L.map('map').setView([51.673858, 7.815982], 10); // Podrazumevana lokacija\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n  }\n  pretraziAdresu() {\n    if (!this.adresa) return;\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.adresa)}&format=json&limit=1`;\n    fetch(url).then(response => response.json()).then(data => {\n      if (data.length > 0) {\n        const lat = parseFloat(data[0].lat);\n        const lon = parseFloat(data[0].lon);\n        if (this.map && this.marker) {\n          this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n        }\n\n        this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n        this.marker = L.marker([lat, lon]).addTo(this.map);\n        this.marker.bindPopup(`<b>${this.adresa}</b>`).openPopup();\n      } else {\n        alert('Adresa nije pronađena.');\n      }\n    }).catch(error => {\n      console.error('Greška prilikom geokodiranja:', error);\n      alert('Greška prilikom geokodiranja.');\n    });\n  }\n  static #_ = this.ɵfac = function FirmaComponent_Factory(t) {\n    return new (t || FirmaComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FirmaComponent,\n    selectors: [[\"app-firma\"]],\n    decls: 11,\n    vars: 1,\n    consts: [[\"type\", \"text\", \"placeholder\", \"Unesite adresu\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"container\"], [\"id\", \"map\"]],\n    template: function FirmaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\")(1, \"tr\")(2, \"td\");\n        i0.ɵɵtext(3, \"Adresa:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"td\")(5, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function FirmaComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.adresa = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"td\")(7, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function FirmaComponent_Template_button_click_7_listener() {\n          return ctx.pretraziAdresu();\n        });\n        i0.ɵɵtext(8, \"Prika\\u017Ei na mapi\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"div\", 2);\n        i0.ɵɵelement(10, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.adresa);\n      }\n    },\n    dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel],\n    styles: [\"\\n\\n#map[_ngcontent-%COMP%] {\\n    height: 500px; \\n\\n    width: 100%;   \\n\\n    border: 1px solid #ccc; \\n\\n  }\\n  \\n  \\n\\n  .container[_ngcontent-%COMP%] {\\n    margin: 20px 0;\\n    padding: 0;\\n    width: 100%; \\n\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlybWEvZmlybWEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUI7QUFDekI7SUFDSSxhQUFhLEVBQUUsdUJBQXVCO0lBQ3RDLFdBQVcsSUFBSSxxREFBcUQ7SUFDcEUsc0JBQXNCLEVBQUUsK0NBQStDO0VBQ3pFOztFQUVBLDhCQUE4QjtFQUM5QjtJQUNFLGNBQWM7SUFDZCxVQUFVO0lBQ1YsV0FBVyxFQUFFLHNCQUFzQjtFQUNyQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIE9zbm92bmkgc3RpbCB6YSBtYXB1ICovXHJcbiNtYXAge1xyXG4gICAgaGVpZ2h0OiA1MDBweDsgLyogUG9kZcOFwqFhdmFuamUgdmlzaW5lICovXHJcbiAgICB3aWR0aDogMTAwJTsgICAvKiBQb2Rlc2kgw4XCoWlyaW51IGRhIHBva3JpamUgY2VvIHJvZGl0ZWxqc2tpIGVsZW1lbnQgKi9cclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IC8qIE9wY2lvbmkgc3RpbCB6YSBncmFuaWN1LCB6YSBsYWvDhcKhZSBwcmHDhMKHZW5qZSAqL1xyXG4gIH1cclxuICBcclxuICAvKiBPc25vdm5pIHN0aWwgemEga29udGVqbmVyICovXHJcbiAgLmNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IDIwcHggMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICB3aWR0aDogMTAwJTsgLyogw4XCoGlyaW5hIGtvbnRlam5lcmEgKi9cclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["L","FirmaComponent","constructor","adresa","ngOnInit","inicijalizujMapu","map","setView","tileLayer","attribution","addTo","pretraziAdresu","url","encodeURIComponent","fetch","then","response","json","data","length","lat","parseFloat","lon","marker","removeLayer","bindPopup","openPopup","alert","catch","error","console","_","_2","selectors","decls","vars","consts","template","FirmaComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FirmaComponent_Template_input_ngModelChange_5_listener","$event","FirmaComponent_Template_button_click_7_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["D:\\projekat-pia\\front\\app\\src\\app\\firma\\firma.component.ts","D:\\projekat-pia\\front\\app\\src\\app\\firma\\firma.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport * as L from 'leaflet';\n\n@Component({\n  selector: 'app-firma',\n  templateUrl: './firma.component.html',\n  styleUrls: ['./firma.component.css']\n})\nexport class FirmaComponent implements OnInit {\n  adresa: string = '';\n  map: any\n  marker: L.Marker | undefined;\n\n  constructor() {}\n\n  ngOnInit(): void {\n    this.inicijalizujMapu();\n  }\n\n  inicijalizujMapu(): void {\n    this.map = L.map('map').setView([51.673858, 7.815982], 10); // Podrazumevana lokacija\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n  }\n\n  pretraziAdresu(): void {\n    if (!this.adresa) return;\n\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.adresa)}&format=json&limit=1`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        if (data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lon = parseFloat(data[0].lon);\n\n          if (this.map && this.marker) {\n            this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n          }\n\n          this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n\n          this.marker = L.marker([lat, lon]).addTo(this.map);\n          this.marker.bindPopup(`<b>${this.adresa}</b>`).openPopup();\n        } else {\n          alert('Adresa nije pronađena.');\n        }\n      })\n      .catch(error => {\n        console.error('Greška prilikom geokodiranja:', error);\n        alert('Greška prilikom geokodiranja.');\n      });\n  }\n}\n","<table>\n  <tr>\n    <td>Adresa:</td>\n    <td>\n      <input type=\"text\" [(ngModel)]=\"adresa\" placeholder=\"Unesite adresu\">\n    </td>\n    <td>\n      <button (click)=\"pretraziAdresu()\">Prikaži na mapi</button>\n    </td>\n  </tr>\n</table>\n<div class=\"container\">\n  <div id=\"map\"></div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}