{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class FirmaComponent {\n  constructor() {\n    this.adresa = '';\n    this.naziv = '';\n  }\n  ngOnInit() {\n    this.inicijalizujMapu();\n  }\n  inicijalizujMapu() {\n    this.map = L.map('map').setView([51.673858, 7.815982], 10); // Podrazumevana lokacija\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n  }\n  pretraziAdresu() {\n    if (!this.adresa) return;\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.adresa)}&format=json&limit=1`;\n    fetch(url).then(response => response.json()).then(data => {\n      if (data.length > 0) {\n        const lat = parseFloat(data[0].lat);\n        const lon = parseFloat(data[0].lon);\n        if (this.map && this.marker) {\n          this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n        }\n\n        this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n        this.marker = L.marker([lat, lon]).addTo(this.map);\n        this.marker.bindPopup(`<b>${this.adresa}</b>`).openPopup();\n      } else {\n        alert('Adresa nije pronađena.');\n      }\n    }).catch(error => {\n      console.error('Greška prilikom geokodiranja:', error);\n      alert('Greška prilikom geokodiranja.');\n    });\n  }\n  dodajUslugu() {}\n  static #_ = this.ɵfac = function FirmaComponent_Factory(t) {\n    return new (t || FirmaComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FirmaComponent,\n    selectors: [[\"app-firma\"]],\n    decls: 26,\n    vars: 4,\n    consts: [[\"type\", \"text\", \"placeholder\", \"Unesite naziv\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Unesite uslugu\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Unesite cenu\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"type\", \"text\", \"placeholder\", \"Unesite adresu\", 3, \"ngModel\", \"ngModelChange\"], [\"colspan\", \"2\"], [1, \"container\"], [\"id\", \"map\"]],\n    template: function FirmaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\")(1, \"tr\")(2, \"td\");\n        i0.ɵɵtext(3, \" Naziv \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"td\")(5, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function FirmaComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.naziv = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"tr\")(7, \"td\")(8, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function FirmaComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.usluga = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"td\")(10, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function FirmaComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.cena = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"td\")(12, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function FirmaComponent_Template_button_click_12_listener() {\n          return ctx.dodajUslugu();\n        });\n        i0.ɵɵtext(13, \"dodaj\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"tr\")(15, \"td\");\n        i0.ɵɵtext(16, \"Adresa:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"td\")(18, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function FirmaComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.adresa = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"td\")(20, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function FirmaComponent_Template_button_click_20_listener() {\n          return ctx.pretraziAdresu();\n        });\n        i0.ɵɵtext(21, \"Prika\\u017Ei na mapi\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"tr\")(23, \"td\", 5)(24, \"div\", 6);\n        i0.ɵɵelement(25, \"div\", 7);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.naziv);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.usluga);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.cena);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.adresa);\n      }\n    },\n    dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel],\n    styles: [\"\\n\\n#map[_ngcontent-%COMP%] {\\n    height: 100px; \\n\\n    width: 200;  \\n\\n    border: 1px solid #ccc; \\n\\n    box-sizing: border-box; \\n\\n  }\\n  \\n  \\n\\n  .container[_ngcontent-%COMP%] {\\n    margin: 20px 0;\\n    padding: 0;\\n    width: auto; \\n\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlybWEvZmlybWEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEM7SUFDSSxhQUFhLEVBQUUsdUJBQXVCO0lBQ3RDLFVBQVUsR0FBRyx1QkFBdUI7SUFDcEMsc0JBQXNCLEVBQUUsOEJBQThCO0lBQ3RELHNCQUFzQixFQUFFLCtDQUErQztFQUN6RTs7RUFFQSxzQkFBc0I7RUFDdEI7SUFDRSxjQUFjO0lBQ2QsVUFBVTtJQUNWLFdBQVcsRUFBRSwyQ0FBMkM7RUFDMUQiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTdGlsIHphIG1hcHUgc2EgZmlrc25vbSB2ZWxpw4TCjWlub20gKi9cclxuI21hcCB7XHJcbiAgICBoZWlnaHQ6IDEwMHB4OyAvKiBGaWtzbmEgdmlzaW5hIG1hcGUgKi9cclxuICAgIHdpZHRoOiAyMDA7ICAvKiBGaWtzbmEgw4XCoWlyaW5hIG1hcGUgKi9cclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IC8qIEdyYW5pY2EgemEgbGFrw4XCoWUgcHJhw4TCh2VuamUgKi9cclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IC8qIFVrbGp1w4TCjWkgcGFkZGluZyBpIGJvcmRlciB1IHZpc2ludSBpIMOFwqFpcmludSAqL1xyXG4gIH1cclxuICBcclxuICAvKiBTdGlsIHphIGtvbnRlam5lciAqL1xyXG4gIC5jb250YWluZXIge1xyXG4gICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgd2lkdGg6IGF1dG87IC8qIMOFwqBpcmluYSBrb250ZWpuZXJhIG1vw4XCvmUgYml0aSBhdXRvbWF0c2thICovXHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["L","FirmaComponent","constructor","adresa","naziv","ngOnInit","inicijalizujMapu","map","setView","tileLayer","attribution","addTo","pretraziAdresu","url","encodeURIComponent","fetch","then","response","json","data","length","lat","parseFloat","lon","marker","removeLayer","bindPopup","openPopup","alert","catch","error","console","dodajUslugu","_","_2","selectors","decls","vars","consts","template","FirmaComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FirmaComponent_Template_input_ngModelChange_5_listener","$event","FirmaComponent_Template_input_ngModelChange_8_listener","usluga","FirmaComponent_Template_input_ngModelChange_10_listener","cena","FirmaComponent_Template_button_click_12_listener","FirmaComponent_Template_input_ngModelChange_18_listener","FirmaComponent_Template_button_click_20_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["D:\\projekat-pia\\front\\app\\src\\app\\firma\\firma.component.ts","D:\\projekat-pia\\front\\app\\src\\app\\firma\\firma.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport * as L from 'leaflet';\n\n@Component({\n  selector: 'app-firma',\n  templateUrl: './firma.component.html',\n  styleUrls: ['./firma.component.css']\n})\nexport class FirmaComponent implements OnInit {\n  adresa: string = '';\n  naziv:string=''\n  map: any\n  marker: L.Marker | undefined;\n\n  constructor() {}\n\n  ngOnInit(): void {\n    this.inicijalizujMapu();\n  }\n\n  inicijalizujMapu(): void {\n    this.map = L.map('map').setView([51.673858, 7.815982], 10); // Podrazumevana lokacija\n\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map);\n  }\n\n  pretraziAdresu(): void {\n    if (!this.adresa) return;\n\n    const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(this.adresa)}&format=json&limit=1`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        if (data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lon = parseFloat(data[0].lon);\n\n          if (this.map && this.marker) {\n            this.map.removeLayer(this.marker); // Ukloni prethodni marker ako postoji\n          }\n\n          this.map.setView([lat, lon], 15); // Prikazivanje mape sa novom lokacijom\n\n          this.marker = L.marker([lat, lon]).addTo(this.map);\n          this.marker.bindPopup(`<b>${this.adresa}</b>`).openPopup();\n        } else {\n          alert('Adresa nije pronađena.');\n        }\n      })\n      .catch(error => {\n        console.error('Greška prilikom geokodiranja:', error);\n        alert('Greška prilikom geokodiranja.');\n      });\n  }\n\n  dodajUslugu(){}\n}\n","<table>\n  <tr>\n    <td>\n      Naziv\n    </td>\n    <td>\n      <input type=\"text\" [(ngModel)]=\"naziv\" placeholder=\"Unesite naziv\">\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <input type=\"text\" [(ngModel)]=\"usluga\" placeholder=\"Unesite uslugu\">\n    </td>\n    <td>\n      <input type=\"text\" [(ngModel)]=\"cena\" placeholder=\"Unesite cenu\">\n    </td>\n    <td>\n      <button (click)=\"dodajUslugu()\">dodaj</button>\n    </td>\n  </tr>\n  <tr>\n\n    <td>Adresa:</td>\n    <td>\n      <input type=\"text\" [(ngModel)]=\"adresa\" placeholder=\"Unesite adresu\">\n    </td>\n    <td>\n      <button (click)=\"pretraziAdresu()\">Prikaži na mapi</button>\n    </td>\n  </tr>\n  <tr>\n    <td colspan=\"2\">\n      <div class=\"container\">\n        <div id=\"map\"></div>\n      </div>\n    </td>\n  </tr>\n</table>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}